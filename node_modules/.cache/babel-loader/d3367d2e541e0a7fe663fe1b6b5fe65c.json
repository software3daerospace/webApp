{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _dates = require('./utils/dates');\n\nvar _dates2 = _interopRequireDefault(_dates);\n\nvar _eventLevels = require('./utils/eventLevels');\n\nvar _helpers = require('./utils/helpers');\n\nvar _propTypes3 = require('./utils/propTypes');\n\nvar _selection = require('./utils/selection');\n\nvar _Selection = require('./Selection');\n\nvar _Selection2 = _interopRequireDefault(_Selection);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar BackgroundCells = function (_React$Component) {\n  _inherits(BackgroundCells, _React$Component);\n\n  function BackgroundCells(props, context) {\n    _classCallCheck(this, BackgroundCells);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n    _this.state = {\n      selecting: false\n    };\n    return _this;\n  }\n\n  BackgroundCells.prototype.componentDidMount = function componentDidMount() {\n    this.props.selectable && this._selectable();\n  };\n\n  BackgroundCells.prototype.componentWillUnmount = function componentWillUnmount() {\n    this._teardownSelectable();\n  };\n\n  BackgroundCells.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.selectable && !this.props.selectable) this._selectable();\n    if (!nextProps.selectable && this.props.selectable) this._teardownSelectable();\n  };\n\n  BackgroundCells.prototype.render = function render() {\n    var _props = this.props,\n        range = _props.range,\n        Wrapper = _props.cellWrapperComponent,\n        dayPropGetter = _props.dayPropGetter,\n        currentDate = _props.date,\n        getNow = _props.getNow;\n    var _state = this.state,\n        selecting = _state.selecting,\n        startIdx = _state.startIdx,\n        endIdx = _state.endIdx;\n    var current = getNow();\n    return _react2.default.createElement('div', {\n      className: 'rbc-row-bg'\n    }, range.map(function (date, index) {\n      var selected = selecting && index >= startIdx && index <= endIdx;\n\n      var _ref = dayPropGetter && dayPropGetter(date) || {},\n          className = _ref.className,\n          dayStyles = _ref.style;\n\n      var segmStyles = (0, _eventLevels.segStyle)(1, range.length);\n\n      var styles = _extends({}, dayStyles, segmStyles);\n\n      return _react2.default.createElement(Wrapper, {\n        key: index,\n        value: date,\n        range: range\n      }, _react2.default.createElement('div', {\n        style: styles,\n        className: (0, _classnames2.default)('rbc-day-bg', className, selected && 'rbc-selected-cell', _dates2.default.eq(date, current, 'day') && 'rbc-today', currentDate && _dates2.default.month(currentDate) !== _dates2.default.month(date) && 'rbc-off-range-bg')\n      }));\n    }));\n  };\n\n  BackgroundCells.prototype._selectable = function _selectable() {\n    var _this2 = this;\n\n    var node = (0, _reactDom.findDOMNode)(this);\n    var selector = this._selector = new _Selection2.default(this.props.container, {\n      longPressThreshold: this.props.longPressThreshold\n    });\n\n    var selectorClicksHandler = function selectorClicksHandler(point, actionType) {\n      if (!(0, _Selection.isEvent)((0, _reactDom.findDOMNode)(_this2), point)) {\n        var rowBox = (0, _Selection.getBoundsForNode)(node);\n        var _props2 = _this2.props,\n            range = _props2.range,\n            rtl = _props2.rtl;\n\n        if ((0, _selection.pointInBox)(rowBox, point)) {\n          var width = (0, _selection.slotWidth)((0, _Selection.getBoundsForNode)(node), range.length);\n          var currentCell = (0, _selection.getCellAtX)(rowBox, point.x, width, rtl, range.length);\n\n          _this2._selectSlot({\n            startIdx: currentCell,\n            endIdx: currentCell,\n            action: actionType\n          });\n        }\n      }\n\n      _this2._initial = {};\n\n      _this2.setState({\n        selecting: false\n      });\n    };\n\n    selector.on('selecting', function (box) {\n      var _props3 = _this2.props,\n          range = _props3.range,\n          rtl = _props3.rtl;\n      var startIdx = -1;\n      var endIdx = -1;\n\n      if (!_this2.state.selecting) {\n        (0, _helpers.notify)(_this2.props.onSelectStart, [box]);\n        _this2._initial = {\n          x: box.x,\n          y: box.y\n        };\n      }\n\n      if (selector.isSelected(node)) {\n        var nodeBox = (0, _Selection.getBoundsForNode)(node);\n\n        var _dateCellSelection = (0, _selection.dateCellSelection)(_this2._initial, nodeBox, box, range.length, rtl);\n\n        startIdx = _dateCellSelection.startIdx;\n        endIdx = _dateCellSelection.endIdx;\n      }\n\n      _this2.setState({\n        selecting: true,\n        startIdx: startIdx,\n        endIdx: endIdx\n      });\n    });\n    selector.on('beforeSelect', function (box) {\n      if (_this2.props.selectable !== 'ignoreEvents') return;\n      return !(0, _Selection.isEvent)((0, _reactDom.findDOMNode)(_this2), box);\n    });\n    selector.on('click', function (point) {\n      return selectorClicksHandler(point, 'click');\n    });\n    selector.on('doubleClick', function (point) {\n      return selectorClicksHandler(point, 'doubleClick');\n    });\n    selector.on('select', function () {\n      _this2._selectSlot(_extends({}, _this2.state, {\n        action: 'select'\n      }));\n\n      _this2._initial = {};\n\n      _this2.setState({\n        selecting: false\n      });\n\n      (0, _helpers.notify)(_this2.props.onSelectEnd, [_this2.state]);\n    });\n  };\n\n  BackgroundCells.prototype._teardownSelectable = function _teardownSelectable() {\n    if (!this._selector) return;\n\n    this._selector.teardown();\n\n    this._selector = null;\n  };\n\n  BackgroundCells.prototype._selectSlot = function _selectSlot(_ref2) {\n    var endIdx = _ref2.endIdx,\n        startIdx = _ref2.startIdx,\n        action = _ref2.action;\n    if (endIdx !== -1 && startIdx !== -1) this.props.onSelectSlot && this.props.onSelectSlot({\n      start: startIdx,\n      end: endIdx,\n      action: action\n    });\n  };\n\n  return BackgroundCells;\n}(_react2.default.Component);\n\nBackgroundCells.propTypes = {\n  date: _propTypes2.default.instanceOf(Date),\n  getNow: _propTypes2.default.func.isRequired,\n  cellWrapperComponent: _propTypes3.elementType,\n  container: _propTypes2.default.func,\n  dayPropGetter: _propTypes2.default.func,\n  selectable: _propTypes2.default.oneOf([true, false, 'ignoreEvents']),\n  longPressThreshold: _propTypes2.default.number,\n  onSelectSlot: _propTypes2.default.func.isRequired,\n  onSelectEnd: _propTypes2.default.func,\n  onSelectStart: _propTypes2.default.func,\n  range: _propTypes2.default.arrayOf(_propTypes2.default.instanceOf(Date)),\n  rtl: _propTypes2.default.bool,\n  type: _propTypes2.default.string\n};\nexports.default = BackgroundCells;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/home/software/software/app/3daerospace_App/node_modules/react-big-calendar/lib/BackgroundCells.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_propTypes","require","_propTypes2","_interopRequireDefault","_react","_react2","_reactDom","_classnames","_classnames2","_dates","_dates2","_eventLevels","_helpers","_propTypes3","_selection","_Selection","_Selection2","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","BackgroundCells","_React$Component","props","context","_this","state","selecting","componentDidMount","selectable","_selectable","componentWillUnmount","_teardownSelectable","componentWillReceiveProps","nextProps","render","_props","range","Wrapper","cellWrapperComponent","dayPropGetter","currentDate","date","getNow","_state","startIdx","endIdx","current","createElement","className","map","index","selected","_ref","dayStyles","style","segmStyles","segStyle","styles","eq","month","_this2","node","findDOMNode","selector","_selector","container","longPressThreshold","selectorClicksHandler","point","actionType","isEvent","rowBox","getBoundsForNode","_props2","rtl","pointInBox","width","slotWidth","currentCell","getCellAtX","x","_selectSlot","action","_initial","setState","on","box","_props3","notify","onSelectStart","y","isSelected","nodeBox","_dateCellSelection","dateCellSelection","onSelectEnd","teardown","_ref2","onSelectSlot","start","end","Component","propTypes","instanceOf","Date","func","isRequired","elementType","oneOf","number","arrayOf","bool","type","string","module"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _dates = require('./utils/dates');\n\nvar _dates2 = _interopRequireDefault(_dates);\n\nvar _eventLevels = require('./utils/eventLevels');\n\nvar _helpers = require('./utils/helpers');\n\nvar _propTypes3 = require('./utils/propTypes');\n\nvar _selection = require('./utils/selection');\n\nvar _Selection = require('./Selection');\n\nvar _Selection2 = _interopRequireDefault(_Selection);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BackgroundCells = function (_React$Component) {\n  _inherits(BackgroundCells, _React$Component);\n\n  function BackgroundCells(props, context) {\n    _classCallCheck(this, BackgroundCells);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n    _this.state = {\n      selecting: false\n    };\n    return _this;\n  }\n\n  BackgroundCells.prototype.componentDidMount = function componentDidMount() {\n    this.props.selectable && this._selectable();\n  };\n\n  BackgroundCells.prototype.componentWillUnmount = function componentWillUnmount() {\n    this._teardownSelectable();\n  };\n\n  BackgroundCells.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.selectable && !this.props.selectable) this._selectable();\n\n    if (!nextProps.selectable && this.props.selectable) this._teardownSelectable();\n  };\n\n  BackgroundCells.prototype.render = function render() {\n    var _props = this.props,\n        range = _props.range,\n        Wrapper = _props.cellWrapperComponent,\n        dayPropGetter = _props.dayPropGetter,\n        currentDate = _props.date,\n        getNow = _props.getNow;\n    var _state = this.state,\n        selecting = _state.selecting,\n        startIdx = _state.startIdx,\n        endIdx = _state.endIdx;\n\n    var current = getNow();\n\n    return _react2.default.createElement(\n      'div',\n      { className: 'rbc-row-bg' },\n      range.map(function (date, index) {\n        var selected = selecting && index >= startIdx && index <= endIdx;\n\n        var _ref = dayPropGetter && dayPropGetter(date) || {},\n            className = _ref.className,\n            dayStyles = _ref.style;\n\n        var segmStyles = (0, _eventLevels.segStyle)(1, range.length);\n        var styles = _extends({}, dayStyles, segmStyles);\n\n        return _react2.default.createElement(\n          Wrapper,\n          { key: index, value: date, range: range },\n          _react2.default.createElement('div', {\n            style: styles,\n            className: (0, _classnames2.default)('rbc-day-bg', className, selected && 'rbc-selected-cell', _dates2.default.eq(date, current, 'day') && 'rbc-today', currentDate && _dates2.default.month(currentDate) !== _dates2.default.month(date) && 'rbc-off-range-bg')\n          })\n        );\n      })\n    );\n  };\n\n  BackgroundCells.prototype._selectable = function _selectable() {\n    var _this2 = this;\n\n    var node = (0, _reactDom.findDOMNode)(this);\n    var selector = this._selector = new _Selection2.default(this.props.container, {\n      longPressThreshold: this.props.longPressThreshold\n    });\n\n    var selectorClicksHandler = function selectorClicksHandler(point, actionType) {\n      if (!(0, _Selection.isEvent)((0, _reactDom.findDOMNode)(_this2), point)) {\n        var rowBox = (0, _Selection.getBoundsForNode)(node);\n        var _props2 = _this2.props,\n            range = _props2.range,\n            rtl = _props2.rtl;\n\n\n        if ((0, _selection.pointInBox)(rowBox, point)) {\n          var width = (0, _selection.slotWidth)((0, _Selection.getBoundsForNode)(node), range.length);\n          var currentCell = (0, _selection.getCellAtX)(rowBox, point.x, width, rtl, range.length);\n\n          _this2._selectSlot({\n            startIdx: currentCell,\n            endIdx: currentCell,\n            action: actionType\n          });\n        }\n      }\n\n      _this2._initial = {};\n      _this2.setState({ selecting: false });\n    };\n\n    selector.on('selecting', function (box) {\n      var _props3 = _this2.props,\n          range = _props3.range,\n          rtl = _props3.rtl;\n\n\n      var startIdx = -1;\n      var endIdx = -1;\n\n      if (!_this2.state.selecting) {\n        (0, _helpers.notify)(_this2.props.onSelectStart, [box]);\n        _this2._initial = { x: box.x, y: box.y };\n      }\n      if (selector.isSelected(node)) {\n        var nodeBox = (0, _Selection.getBoundsForNode)(node);\n        var _dateCellSelection = (0, _selection.dateCellSelection)(_this2._initial, nodeBox, box, range.length, rtl);\n\n        startIdx = _dateCellSelection.startIdx;\n        endIdx = _dateCellSelection.endIdx;\n      }\n\n      _this2.setState({\n        selecting: true,\n        startIdx: startIdx,\n        endIdx: endIdx\n      });\n    });\n\n    selector.on('beforeSelect', function (box) {\n      if (_this2.props.selectable !== 'ignoreEvents') return;\n\n      return !(0, _Selection.isEvent)((0, _reactDom.findDOMNode)(_this2), box);\n    });\n\n    selector.on('click', function (point) {\n      return selectorClicksHandler(point, 'click');\n    });\n\n    selector.on('doubleClick', function (point) {\n      return selectorClicksHandler(point, 'doubleClick');\n    });\n\n    selector.on('select', function () {\n      _this2._selectSlot(_extends({}, _this2.state, { action: 'select' }));\n      _this2._initial = {};\n      _this2.setState({ selecting: false });\n      (0, _helpers.notify)(_this2.props.onSelectEnd, [_this2.state]);\n    });\n  };\n\n  BackgroundCells.prototype._teardownSelectable = function _teardownSelectable() {\n    if (!this._selector) return;\n    this._selector.teardown();\n    this._selector = null;\n  };\n\n  BackgroundCells.prototype._selectSlot = function _selectSlot(_ref2) {\n    var endIdx = _ref2.endIdx,\n        startIdx = _ref2.startIdx,\n        action = _ref2.action;\n\n    if (endIdx !== -1 && startIdx !== -1) this.props.onSelectSlot && this.props.onSelectSlot({\n      start: startIdx,\n      end: endIdx,\n      action: action\n    });\n  };\n\n  return BackgroundCells;\n}(_react2.default.Component);\n\nBackgroundCells.propTypes = {\n  date: _propTypes2.default.instanceOf(Date),\n  getNow: _propTypes2.default.func.isRequired,\n  cellWrapperComponent: _propTypes3.elementType,\n  container: _propTypes2.default.func,\n  dayPropGetter: _propTypes2.default.func,\n  selectable: _propTypes2.default.oneOf([true, false, 'ignoreEvents']),\n  longPressThreshold: _propTypes2.default.number,\n\n  onSelectSlot: _propTypes2.default.func.isRequired,\n  onSelectEnd: _propTypes2.default.func,\n  onSelectStart: _propTypes2.default.func,\n\n  range: _propTypes2.default.arrayOf(_propTypes2.default.instanceOf(Date)),\n  rtl: _propTypes2.default.bool,\n  type: _propTypes2.default.string\n};\nexports.default = BackgroundCells;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}